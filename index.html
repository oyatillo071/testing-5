<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yuridik Fanlar Quiz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700&display=swap');
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: #f8fafc;
        }
        .option-card:active { transform: scale(0.98); }
        .glass-panel {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(226, 232, 240, 0.8);
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">

    <div id="app" class="max-w-3xl w-full glass-panel rounded-3xl shadow-2xl overflow-hidden min-h-[550px] flex flex-col">
        
        <!-- Bosh sahifa / Mavzular menyusi -->
        <div id="menu-screen" class="p-8">
            <div class="text-center mb-10">
                <h1 class="text-3xl font-extrabold text-slate-800 mb-2">Huquqshunoslik Quiz</h1>
                <p class="text-slate-500">Bilimingizni sinash uchun quyidagi mavzulardan birini tanlang</p>
            </div>
            
            <div id="topics-list" class="grid grid-cols-1 gap-4">
                <!-- Mavzular ro'yxati JS orqali yaratiladi -->
            </div>
        </div>

        <!-- Quiz Test Sahifasi -->
        <div id="quiz-screen" class="hidden flex-col h-full">
            <div class="h-2 bg-slate-100">
                <div id="progress-bar" class="h-full bg-blue-600 transition-all duration-500" style="width: 0%"></div>
            </div>
            
            <div class="p-8 flex-grow">
                <div class="flex justify-between items-center mb-8">
                    <button onclick="showMenu()" class="text-slate-500 font-semibold flex items-center hover:text-blue-600 transition-colors">
                        <svg class="w-5 h-5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
                        Menyu
                    </button>
                    <span id="counter" class="bg-blue-100 text-blue-700 px-4 py-1 rounded-full text-xs font-bold uppercase tracking-wider"></span>
                </div>

                <div id="question-area">
                    <h2 id="question-text" class="text-xl text-slate-800 font-bold mb-10 leading-snug"></h2>
                    <div id="options-container" class="grid grid-cols-1 gap-3">
                        <!-- Variantlar -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Yakuniy Natija Sahifasi -->
        <div id="result-screen" class="hidden p-12 text-center flex-col items-center justify-center">
            <div id="result-status-icon" class="mb-6 p-4 rounded-full">
                <!-- Dinamik icon -->
            </div>
            <h2 class="text-3xl font-bold text-slate-800 mb-2">Test Yakunlandi</h2>
            <p id="final-score-text" class="text-lg text-slate-600 mb-10"></p>
            
            <div class="flex flex-col sm:flex-row gap-4 w-full justify-center">
                <button onclick="restartTopic()" class="bg-blue-600 text-white px-10 py-3 rounded-xl font-bold hover:bg-blue-700 shadow-lg shadow-blue-200 transition-all">Qayta urinish</button>
                <button onclick="showMenu()" class="bg-slate-200 text-slate-700 px-10 py-3 rounded-xl font-bold hover:bg-slate-300 transition-all">Boshqa mavzu</button>
            </div>
        </div>

    </div>

    <script>
        // MA'LUMOTLAR BAZASI
        const quizDatabase = {
            "topic1": {
                title: "1-Mavzu: Davlat va huquq nazariyasi faniga kirish",
                questions:[
  {
    q: "Fan tushunchasi to'g'ri ta'rifini toping:",
    options: [
      "Faqat texnik jarayonlarni o'rganish.",
      "Insonning atrof-muhitni anglashga qaratilgan bilish faoliyati bo'lib, obyektiv haqiqatni topish, tushuntirish va tizimlashtirish maqsadiga ega.",
      "Faqat huquqiy normalarni qo'llash.",
      "Davlat organlarining faoliyatini nazorat qilish."
    ],
    correct: 1
  },
  {
    q: "Quyidagilardan qaysi biri aniq fanlarga kiradi?",
    options: [
      "Falsafa va tarix.",
      "Matematika va kibernetika.",
      "Huquq va siyosatshunoslik.",
      "Sotsiologiya va iqtisodiyot."
    ],
    correct: 1
  },
  {
    q: "Nazariy huquqiy fanlarning asosiy maqsadi nima?",
    options: [
      "Faqat jinoyatlarni tergov qilish.",
      "Huquq va davlatning mohiyati, kelib chiqishi va umumiy qonuniyatlarini o'rganish.",
      "Huquqiy normalarni qo'llash.",
      "Sud qarorlarini ijro etish."
    ],
    correct: 1
  },
  {
    q: "Quyidagi fanlardan qaysi biri amaliy huquqiy fanlarga kiradi?",
    options: [
      "Falsafa.",
      "Sotsiologiya.",
      "Kriminalistika.",
      "Tarix."
    ],
    correct: 2
  },
  {
    q: "Davlat va huquq nazariyasining predmeti nima?",
    options: [
      "Faqat davlat organlari faoliyatini o'rganish.",
      "Davlat va huquqning ijtimoiy mohiyati, rivojlanish qonuniyatlari, funksiyalari.",
      "Huquqiy normalarni qo'llash.",
      "Sud tizimini nazorat qilish."
    ],
    correct: 1
  },
  {
    q: "Metodologiya nima?",
    options: [
      "Faqat ilmiy tajribalar.",
      "Fanning mazmuni, yo'nalishi va tadqiqot xarakterini belgilaydigan prinsiplar, nazariy asoslar, metodlar va ilmiy qadriyatlar tizimi.",
      "Huquqiy normalarni qo'llash.",
      "Sud qarorlarini ijro etish."
    ],
    correct: 1
  },
  {
    q: "Dialektik metodning mohiyati nimadan iborat?",
    options: [
      "Faqat raqamlar bilan ishlash.",
      "Qarama-qarshiliklar, inqirozlar va rivojlanish jarayonida tahlil qilish.",
      "Faqat tarixiy hujjatlarni o'rganish.",
      "Chet el qonunchiligini tarjima qilish."
    ],
    correct: 1
  },
  {
    q: "Aksiologik metod nimani o'rganadi?",
    options: [
      "Faqat iqtisodiy jarayonlarni.",
      "Davlat va huquqni qadriyatlar tizimi (adolat, erkinlik, tenglik) sifatida tahlil qilish.",
      "Sud qarorlarini ijro etish.",
      "Huquqiy normalarni qo'llash."
    ],
    correct: 1
  },
  {
    q: "Quyidagilardan qaysi biri umumiy metodlarga kiradi?",
    options: [
      "Faqat kuzatish.",
      "Faqat eksperiment.",
      "Analiz va sintez.",
      "Faqat so'rovnoma."
    ],
    correct: 2
  },
  {
    q: "Sotsiologik metod qanday vositalarni qo'llaydi?",
    options: [
      "Faqat matematik hisob-kitoblar.",
      "So'rovnoma, intervyu, kuzatish, eksperiment.",
      "Faqat tarixiy hujjatlar.",
      "Faqat qonunlarni tarjima qilish."
    ],
    correct: 1
  },
  {
    q: "Formal-yuridik metod nimani amalga oshiradi?",
    options: [
      "Faqat jinoyatlarni tergov qilish.",
      "Huquqiy normalarni mantiqiy, grammatik va strukturaviy tahlil qiladi.",
      "Faqat sud qarorlarini ijro etish.",
      "Faqat iqtisodiy jarayonlarni o'rganish."
    ],
    correct: 1
  },
  {
    q: "Qiyosiy-huquqiy metodning maqsadi nima?",
    options: [
      "Faqat bir davlat qonunlarini o'rganish.",
      "Turli davlatlar huquqiy tizimlarini solishtirish.",
      "Faqat tarixiy hujjatlarni tahlil qilish.",
      "Faqat jinoyatlarni tergov qilish."
    ],
    correct: 1
  },
  {
    q: "Davlat va huquq nazariyasi qaysi fanlar bilan bog'liq?",
    options: [
      "Faqat matematika bilan.",
      "Faqat biologiya bilan.",
      "Falsafa, siyosatshunoslik, iqtisodiyot, sotsiologiya, tarix kabi gumanitar fanlar bilan.",
      "Faqat texnika fanlari bilan."
    ],
    correct: 2
  },
  {
    q: "Davlat va huquq nazariyasining yuridik fanlar tizimidagi qaysi rolini to'g'ri ko'rsatilgan?",
    options: [
      "Faqat jinoyatlarni tergov qilish.",
      "Kirish, umumlashtiruvchi, metodologik, fundamental, atamashunoslik va abstrakt fan.",
      "Faqat sud qarorlarini ijro etish.",
      "Faqat iqtisodiy jarayonlarni o'rganish."
    ],
    correct: 1
  },
  {
    q: "Ontologik funksiya nimani anglatadi?",
    options: [
      "Davlat va huquqning mohiyati, kelib chiqishi, rivojlanishi haqidagi savollarni o'rganish.",
      "Faqat jinoyatlarni tergov qilish.",
      "Faqat iqtisodiy jarayonlarni o'rganish.",
      "Faqat sud qarorlarini ijro etish."
    ],
    correct: 0
  },
  {
    q: "Prognostik funksiyaning vazifasi nima?",
    options: [
      "Faqat tarixiy hujjatlarni o'rganish.",
      "Davlat va huquqning kelajagiga oid ilmiy taxminlar ilgari surish.",
      "Faqat jinoyatlarni tergov qilish.",
      "Faqat sud qarorlarini ijro etish."
    ],
    correct: 1
  },
  {
    q: "Evristik funksiya nimani amalga oshiradi?",
    options: [
      "Faqat iqtisodiy jarayonlarni o'rganish.",
      "Yangi qonuniyatlarni ochish, ilmiy kashfiyotlar qilish.",
      "Faqat sud qarorlarini ijro etish.",
      "Faqat jinoyatlarni tergov qilish."
    ],
    correct: 1
  },
  {
    q: "Metodologik funksiya nimani ta'minlaydi?",
    options: [
      "Faqat sud qarorlarini ijro etish.",
      "Barcha yuridik fanlar uchun metodlar, kategoriyalar va prinsiplarni ishlab chiqish.",
      "Faqat jinoyatlarni tergov qilish.",
      "Faqat iqtisodiy jarayonlarni o'rganish."
    ],
    correct: 1
  },
  {
    q: "Induksiya metodi qanday ishlaydi?",
    options: [
      "Umumiy nazariyadan xususiy holatlarga xulosa chiqarish.",
      "Xususiy holatlardan umumiy nazariyaga xulosa chiqarish.",
      "Faqat matematik hisob-kitoblar.",
      "Faqat tarixiy hujjatlarni o'rganish."
    ],
    correct: 1
  },
  {
    q: "Davlat va huquqning o'zaro bog'liqligi nimada namoyon bo'ladi?",
    options: [
      "Faqat iqtisodiy jarayonlarda.",
      "Davlat organlari huquqiy normalar asosida faoliyat yuritadi, huquq esa vakolatlarni belgilaydi.",
      "Faqat sud qarorlarini ijro etishda.",
      "Faqat jinoyatlarni tergov qilishda."
    ],
    correct: 1
  }
]

            },
            "topic2": {
                title: "2-Mavzu: Davlatning vujudga kelishi: yo'llari va nazariyalari",
                questions:[
  {
    q: "Davlatning shakllanishiga ta'sir etuvchi universal omillarga qaysi biri KIRMAYDI?",
    options: [
      "Iqtisodiy omillar.",
      "Ijtimoiy omillar.",
      "Madaniy omillar.",
      "Faqat harbiy tahdidlar va bosqinchilik."
    ],
    correct: 3
  },
  {
    q: "Sharqona (Osiyocha) yo‘l qaysi mintaqalarda tarqalgan?",
    options: [
      "Yevropa va Shimoliy Amerika.",
      "Qadimgi Sharq, Afrika, Amerikaning ayrim hududlari.",
      "Avstraliya va Yangi Zelandiya.",
      "Faqat Skandinaviya mamlakatlari."
    ],
    correct: 1
  },
  {
    q: "Sharqona yo‘lning asosiy belgisi nima?",
    options: [
      "Xususiy mulkning rivojlanishi.",
      "Faqat harbiy kuchga tayanish.",
      "Yirik sug'orish ishlarini tashkil etish zaruriyati.",
      "Faqat savdo-sotiqning rivojlanishi."
    ],
    correct: 2
  },
  {
    q: "\"Hokimiyat-mulk\" hodisasi nimani anglatadi?",
    options: [
      "Faqat davlat organlarining shakllanishi.",
      "Urug'-qabila zodagonlari qo'lida jamoat boyliklarining to'planishi va lavozimlarning meros bo'lishi.",
      "Faqat sud tizimining rivojlanishi.",
      "Faqat iqtisodiy jarayonlarni o'rganish."
    ],
    correct: 1
  },
  {
    q: "G‘arbcha yo‘lning hal qiluvchi omili nima?",
    options: [
      "Faqat sug'orish tizimi.",
      "Faqat diniy omillar.",
      "Xususiy mulk va sinfliy tabaqalanish.",
      "Faqat harbiy kuch."
    ],
    correct: 2
  },
  {
    q: "Qadimgi Afinada davlatchilik qanday shakllangan?",
    options: [
      "Faqat sug'orish tizimi orqali.",
      "Urugchilik ichida sinfliy antagonizm orqali, dastlabki demokratiya.",
      "Faqat diniy hokimiyat orqali.",
      "Faqat harbiy kuch orqali."
    ],
    correct: 1
  },
  {
    q: "Teologik nazariyaning asosiy g‘oyasi nima?",
    options: [
      "Davlat faqat iqtisodiy jarayonlar natijasi.",
      "Davlat va qonunlar Xudo tomonidan o‘rnatilgan.",
      "Davlat faqat harbiy kuch natijasi.",
      "Davlat faqat sug'orish tizimi natijasi."
    ],
    correct: 1
  },
  {
    q: "Teologik nazariyaning vakillariga kimlar kiradi?",
    options: [
      "Karl Marks, Fridrix Engels.",
      "Foma Akvinskiy, Avgustin Avreliy, Al-Movardiy.",
      "Lev Petrazhitskiy, Zigmund Freyd.",
      "Lyudvig Gumplovich, Karl Kautskiy."
    ],
    correct: 1
  },
  {
    q: "Patriarxal nazariyaning asoschisi kim?",
    options: [
      "Karl Marks.",
      "Foma Akvinskiy.",
      "Aristotel.",
      "Lev Petrazhitskiy."
    ],
    correct: 2
  },
  {
    q: "Ijtimoiy shartnoma nazariyasiga ko‘ra, davlat qanday paydo bo‘lgan?",
    options: [
      "Faqat sug'orish tizimi orqali.",
      "Odamlar o‘z huquqlarining bir qismini davlatga topshirishi orqali.",
      "Faqat diniy hokimiyat orqali.",
      "Faqat harbiy kuch orqali."
    ],
    correct: 1
  },
  {
    q: "Ijtimoiy shartnoma nazariyasining vakillari qatoriga kimlar kiradi?",
    options: [
      "Karl Marks, Engels, Lenin.",
      "Aristotel, Platon.",
      "Foma Akvinskiy, Avgustin.",
      "Getsiy, Gobbs, Lokk, Russo."
    ],
    correct: 3
  },
  {
    q: "Tomas Gobbsning \"tabiiy holat\" kontseptsiyasi qanday tasvirlangan?",
    options: [
      "Faqat tinchlik va barqarorlik.",
      "\"Hammaning hammaga qarshi urushi\" - xavfsizlik yo‘q.",
      "Faqat diniy hokimiyat.",
      "Faqat sug'orish tizimi."
    ],
    correct: 1
  },
  {
    q: "Zo‘ravonlik nazariyasining vakillariga kimlar kiradi?",
    options: [
      "Lyudvig Gumplovich, Karl Kautskiy, Evgeniy Dyuring.",
      "Karl Marks, Engels.",
      "Lev Petrazhitskiy, Zigmund Freyd.",
      "Foma Akvinskiy, Avgustin."
    ],
    correct: 0
  },
  {
    q: "Marksistik nazariyaga ko‘ra, davlat nima?",
    options: [
      "Faqat sug'orish tizimi.",
      "Faqat diniy hokimiyat.",
      "Bir sinfning boshqa sinf ustidan hukmronligini saqlab turish uchun mashina.",
      "Faqat harbiy kuch."
    ],
    correct: 2
  },
  {
    q: "Marksistik nazariyaning asoschilaridan kimlar?",
    options: [
      "Aristotel, Platon.",
      "Karl Marks, Fridrix Engels, Vladimir Lenin.",
      "Foma Akvinskiy, Avgustin.",
      "Lev Petrazhitskiy, Zigmund Freyd."
    ],
    correct: 1
  },
  {
    q: "Irrigatsiya (gidravlik) nazariyasining asoschisi kim?",
    options: [
      "Karl Marks.",
      "Aristotel.",
      "Karl Vittfogel.",
      "Lev Petrazhitskiy."
    ],
    correct: 2
  },
  {
    q: "Organik nazariyaga ko‘ra, davlat nimaga o‘xshaydi?",
    options: [
      "Faqat sug'orish tizimiga.",
      "Tirik organizmga.",
      "Faqat diniy hokimiyatga.",
      "Faqat harbiy kuchga."
    ],
    correct: 1
  },
  {
    q: "Psixologik nazariyaning vakillari kimlar?",
    options: [
      "Karl Marks, Engels.",
      "Lev Petrazhitskiy, Gabriel Tard, Zigmund Freyd.",
      "Foma Akvinskiy, Avgustin.",
      "Lyudvig Gumplovich, Karl Kautskiy."
    ],
    correct: 1
  },
  {
    q: "Patrimonial nazariyaga ko‘ra, davlat nima?",
    options: [
      "Faqat sug'orish tizimi.",
      "Hukmdorning xususiy mulki.",
      "Faqat diniy hokimiyat.",
      "Faqat harbiy kuch."
    ],
    correct: 1
  },
  {
    q: "Qaysi nazariya butulay obro'sizlangan va insoniyatga qarshi deb tan olingan?",
    options: [
      "Marksistik nazariya.",
      "Teologik nazariya.",
      "Irqiy nazariya.",
      "Patriarxal nazariya."
    ],
    correct: 2
  }
]

            },
             "topic3": {
                title: "3-Mavzu: DAVLAT VA HUQUQ TUSHUNCHASI BO'YICHA TEST SAVOLLARI",
                questions:
                    
[
  {
    q: "Davlatning umumiy ta'rifini to'g'ri ko'rsating:",
    options: [
      "Faqat iqtisodiy jarayonlarni boshqaruvchi institut.",
      "Jamiyatning eng yuqori darajada tashkil topgan va universal boshqaruvchi instituti.",
      "Faqat harbiy kuchga asoslangan tuzilma.",
      "Faqat diniy hokimiyat shakli."
    ],
    correct: 1
  },
  {
    q: "Qaysi qadimgi mutafakkir davlatni 'adolatni ta'minlovchi ideal tuzum' deb atagan?",
    options: [
      "Aristotel.",
      "Sokrat.",
      "Platon.",
      "Tomas Gobbs."
    ],
    correct: 2
  },
  {
    q: "Tomas Gobbsning davlat haqidagi qarashi qanday bo'lgan?",
    options: [
      "Davlat - tabiiy jarayon natijasi.",
      "Davlat - 'Leviafan' - barcha fuqarolarning xavfsizligi uchun tuzilgan sun'iy maxluq.",
      "Davlat - diniy hokimiyatning natijasi.",
      "Davlat - faqat iqtisodiy jarayonlar mahsuli."
    ],
    correct: 1
  },
  {
    q: "Karl Marksga ko'ra, davlat nima?",
    options: [
      "Faqat diniy hokimiyat.",
      "Sinfliy zo'ravonlik vositasi, hukmon sinf manfaatlarini himoya qiluvchi.",
      "Faqat sug'orish tizimi.",
      "Faqat harbiy kuch."
    ],
    correct: 1
  },
  {
    q: "Davlatning hududiylik belgisi qaysi qismlardan iborat?",
    options: [
      "Faqat quruqlik.",
      "Faqat suv hududlari.",
      "Quruqlik, suv hududlari, havo fazosi, yer osti boyliklari.",
      "Faqat havo fazosi."
    ],
    correct: 2
  },
  {
    q: "Suverenitetning ikki yo'nalishi qaysilar?",
    options: [
      "Ichki va tashqi suverenitet.",
      "Faqat ichki suverenitet.",
      "Faqat tashqi suverenitet.",
      "Faqat iqtisodiy suverenitet."
    ],
    correct: 0
  },
  {
    q: "Majburlash apparatiga qaysilar kiradi?",
    options: [
      "Faqat soliq tizimi.",
      "Faqat parlament.",
      "Politsiya, prokuratura, sudlar, milliy gvardiya va harbiy kuchlar.",
      "Faqat diniy hokimiyat."
    ],
    correct: 2
  },
  {
    q: "Legitimlik nima?",
    options: [
      "Hokimiyatning qonuniyligi va xalq roziligiga asoslanishi.",
      "Faqat harbiy kuchga asoslanishi.",
      "Faqat diniy hokimiyatga asoslanishi.",
      "Faqat iqtisodiy jarayonlarga asoslanishi."
    ],
    correct: 0
  },
  {
    q: "Davlatning iqtisodiy asosi nimani anglatadi?",
    options: [
      "Faqat savdo-sotiq.",
      "Davlat apparatini moliyaviy ta'minlash, mustaqil byudjet, soliq tizimi.",
      "Faqat sug'orish tizimi.",
      "Faqat harbiy xarajatlar."
    ],
    correct: 1
  },
  {
    q: "Davlat mohiyatining sinfliy (tarixiy) qirrasi nimani anglatadi?",
    options: [
      "Faqat diniy hokimiyat.",
      "Davlat sinfliy zo'ravonlikning mashinasi, hukmon sinf manfaatlarini himoya qilish vositasi.",
      "Faqat sug'orish tizimi.",
      "Faqat iqtisodiy jarayonlar."
    ],
    correct: 1
  },
  {
    q: "Davlatning umumsosial (zamonaviy) qirrasi qaysi vazifalarni bajaradi?",
    options: [
      "Faqat iqtisodiy jarayonlarni boshqaradi.",
      "Butun jamiyatning umumiy manfaatlariga xizmat qilish, inson huquqlarini himoya qilish.",
      "Faqat harbiy kuchni boshqaradi.",
      "Faqat diniy hokimiyatni ta'minlaydi."
    ],
    correct: 1
  },
  {
    q: "Davlatning institutsional qirrasiga qaysilar kiradi?",
    options: [
      "Faqat diniy hokimiyat.",
      "Qonun chiqaruvchi, ijro va sud hokimiyatlari, huquqni muhofaza qiluvchi organlar.",
      "Faqat iqtisodiy jarayonlar.",
      "Faqat harbiy kuch."
    ],
    correct: 1
  },
  {
    q: "Marksistik nazariyaning davlat mohiyati haqidagi asosiy g'oyasi nima?",
    options: [
      "Davlat - diniy hokimiyat natijasi.",
      "Davlat - iqtisodiy jihatdan hukmon sinfning siyosiy hokimiyat tashkiloti.",
      "Davlat - faqat sug'orish tizimi.",
      "Davlat - faqat harbiy kuch."
    ],
    correct: 1
  },
  {
    q: "Elita nazariyasining vakillari kimlar?",
    options: [
      "Karl Marks va Engels.",
      "V. Pareto va G. Moska.",
      "Platon va Aristotel.",
      "Tomas Gobbs va Russo."
    ],
    correct: 1
  },
  {
    q: "Etatistik-totalitar kontseptsiyaga ko'ra, davlat va huquq nisbati qanday?",
    options: [
      "Huquq davlatdan ustun.",
      "Davlat huquqdan ustun, davlat huquqni yaratadi.",
      "Faqat diniy hokimiyatga asoslanadi.",
      "Faqat iqtisodiy jarayonlarga asoslanadi."
    ],
    correct: 1
  },
  {
    q: "Liberal kontseptsiyaga ko'ra, davlat va huquq nisbati qanday?",
    options: [
      "Davlat huquqdan ustun.",
      "Huquq davlatdan ustun, tabiiy huquq nazariyasi asosida.",
      "Faqat diniy hokimiyatga asoslanadi.",
      "Faqat iqtisodiy jarayonlarga asoslanadi."
    ],
    correct: 1
  },
  {
    q: "Davlat huquqqa qanday ta'sir ko'rsatadi?",
    options: [
      "Faqat iqtisodiy jarayonlarni boshqaradi.",
      "Huquqni yaratish, rasmiylashirish, amalga oshirish, umumiy majburiylik xususiyatini berish.",
      "Faqat diniy hokimiyatni ta'minlaydi.",
      "Faqat harbiy kuchni boshqaradi."
    ],
    correct: 1
  },
  {
    q: "Huquq davlatga qanday ta'sir ko'rsatadi?",
    options: [
      "Faqat iqtisodiy jarayonlarni boshqaradi.",
      "Davlat faoliyatini tartibga solish, legitimlik bag'ishlash, organlarni shakllantirishni belgilash.",
      "Faqat diniy hokimiyatni ta'minlaydi.",
      "Faqat harbiy kuchni boshqaradi."
    ],
    correct: 1
  },
  {
    q: "Zamonaviy davlatning eng maqbul iqtisodiy asosi nima?",
    options: [
      "Faqat xususiy mulkka asoslangan iqtisodiyot.",
      "Faqat davlat mulkiga asoslangan iqtisodiyot.",
      "Turli mulkchilik shakllariga asoslangan ijtimoiy yo'naltirilgan bozor iqtisodiyoti.",
      "Faqat diniy hokimiyatga asoslangan iqtisodiyot."
    ],
    correct: 2
  },
  {
    q: "Davlatning ijtimoiy asosi nimani anglatadi?",
    options: [
      "Faqat iqtisodiy jarayonlarni.",
      "Davlatni qo'llab-quvvatlovchi jamiyat qatlamlari, xalqning ishonchi.",
      "Faqat diniy hokimiyatni.",
      "Faqat harbiy kuchni."
    ],
    correct: 1
  },
  {
    q: "Davlatning ilmiy asosi nima uchun zarur?",
    options: [
      "Faqat diniy hokimiyatni ta'minlash uchun.",
      "Davlat faoliyati ishonchli ilmiy poydevorga ega bo'lishi, ilmiy asoslangan qarorlar qabul qilish uchun.",
      "Faqat iqtisodiy jarayonlarni boshqarish uchun.",
      "Faqat harbiy kuchni ta'minlash uchun."
    ],
    correct: 1
  }
]

            }
             // "topic3": {
                // title: "3-Mavzu: DAVLAT VA HUQUQ TUSHUNCHASI BO'YICHA TEST SAVOLLARI",
                // questions:
                    

            // }
        };

        // HOLATNI BOSHQARISH
        let currentTopicKey = "";
        let currentIdx = 0;
        let score = 0;
        let canAnswer = true;

        const menuScreen = document.getElementById('menu-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultScreen = document.getElementById('result-screen');
        const topicsList = document.getElementById('topics-list');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const counter = document.getElementById('counter');
        const progressBar = document.getElementById('progress-bar');
        const finalScoreText = document.getElementById('final-score-text');
        const statusIcon = document.getElementById('result-status-icon');

        // MENYUNI YUKLASH
        function initMenu() {
            topicsList.innerHTML = '';
            Object.keys(quizDatabase).forEach(key => {
                const topic = quizDatabase[key];
                const btn = document.createElement('button');
                btn.className = "p-5 bg-white border border-slate-200 rounded-2xl text-left hover:border-blue-400 hover:bg-blue-50 transition-all flex justify-between items-center group";
                btn.innerHTML = `
                    <div class="pr-4">
                        <h3 class="font-bold text-slate-800 group-hover:text-blue-700">${topic.title}</h3>
                        <p class="text-sm text-slate-400">${topic.questions.length} ta savol</p>
                    </div>
                    <div class="bg-slate-100 p-2 rounded-lg group-hover:bg-blue-100 transition-colors">
                        <svg class="w-5 h-5 text-slate-400 group-hover:text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                    </div>
                `;
                btn.onclick = () => startQuiz(key);
                topicsList.appendChild(btn);
            });
        }

        // QUIZNI BOSHLASH
        function startQuiz(key) {
            currentTopicKey = key;
            currentIdx = 0;
            score = 0;
            menuScreen.classList.add('hidden');
            resultScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            quizScreen.classList.add('flex');
            loadQuestion();
        }

        function showMenu() {
            quizScreen.classList.add('hidden');
            quizScreen.classList.remove('flex');
            resultScreen.classList.add('hidden');
            menuScreen.classList.remove('hidden');
            initMenu();
        }

        function loadQuestion() {
            canAnswer = true;
            const topic = quizDatabase[currentTopicKey];
            const qData = topic.questions[currentIdx];
            
            progressBar.style.width = `${(currentIdx / topic.questions.length) * 100}%`;
            counter.innerText = `${currentIdx + 1} / ${topic.questions.length}`;
            questionText.innerText = qData.q;
            
            optionsContainer.innerHTML = '';
            qData.options.forEach((opt, i) => {
                const btn = document.createElement('button');
                btn.className = "option-card p-4 rounded-xl border-2 border-slate-100 text-left hover:border-blue-200 flex items-start transition-all bg-white shadow-sm";
                btn.innerHTML = `
                    <span class="w-7 h-7 rounded-lg bg-slate-100 text-slate-500 flex items-center justify-center text-xs font-bold mr-4 mt-0.5 shrink-0 transition-colors">${String.fromCharCode(65 + i)}</span>
                    <span class="text-slate-700 font-medium leading-relaxed">${opt}</span>
                `;
                btn.onclick = () => handleAnswer(i, btn);
                optionsContainer.appendChild(btn);
            });
        }

        function handleAnswer(i, btn) {
            if (!canAnswer) return;
            canAnswer = false;
            
            const correct = quizDatabase[currentTopicKey].questions[currentIdx].correct;
            const cards = optionsContainer.children;

            if (i === correct) {
                score++;
                btn.classList.add('border-green-500', 'bg-green-50');
                btn.querySelector('span').classList.replace('bg-slate-100', 'bg-green-500');
                btn.querySelector('span').classList.replace('text-slate-500', 'text-white');
            } else {
                btn.classList.add('border-red-400', 'bg-red-50');
                btn.querySelector('span').classList.replace('bg-slate-100', 'bg-red-500');
                btn.querySelector('span').classList.replace('text-slate-500', 'text-white');
                
                cards[correct].classList.add('border-green-500', 'bg-green-50');
                cards[correct].querySelector('span').classList.replace('bg-slate-100', 'bg-green-500');
                cards[correct].querySelector('span').classList.replace('text-slate-500', 'text-white');
            }

            setTimeout(() => {
                currentIdx++;
                if (currentIdx < quizDatabase[currentTopicKey].questions.length) {
                    loadQuestion();
                } else {
                    finishQuiz();
                }
            }, 1200);
        }

        function finishQuiz() {
            progressBar.style.width = '100%';
            quizScreen.classList.add('hidden');
            quizScreen.classList.remove('flex');
            resultScreen.classList.remove('hidden');
            resultScreen.classList.add('flex');
            
            const total = quizDatabase[currentTopicKey].questions.length;
            const percent = Math.round((score / total) * 100);
            
            if(percent >= 80) {
                statusIcon.className = "mb-6 p-4 rounded-full bg-green-100 text-green-600";
                statusIcon.innerHTML = `<svg class="w-16 h-16" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>`;
            } else if(percent >= 50) {
                statusIcon.className = "mb-6 p-4 rounded-full bg-blue-100 text-blue-600";
                statusIcon.innerHTML = `<svg class="w-16 h-16" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>`;
            } else {
                statusIcon.className = "mb-6 p-4 rounded-full bg-red-100 text-red-600";
                statusIcon.innerHTML = `<svg class="w-16 h-16" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>`;
            }

            finalScoreText.innerHTML = `Siz jami <b>${total}</b> ta savoldan <b>${score}</b> tasini to'g'ri topdingiz.<br><span class="text-2xl font-extrabold mt-2 block ${percent >= 60 ? 'text-green-600' : 'text-red-600'}">Natija: ${percent}%</span>`;
        }

        function restartTopic() {
            startQuiz(currentTopicKey);
        }

        // BOSHLASH
        window.onload = initMenu;
    </script>
</body>
</html>
